<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<title>The Gridiron Oracle üèàüîÆ</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Cinzel+Decorative:wght@400;700;900&family=Cinzel:wght@400;700&family=Inter:wght@400;500;600&display=swap');
  
  :root {
    --primary: #1a0a2e;
    --secondary: #16213e;
    --accent: #e94560;
    --gold: #ffd700;
    --silver: #c0c0c0;
    --team-primary: #e94560;
    --team-secondary: #1a0a2e;
    --glow: rgba(255, 215, 0, 0.3);
  }
  
  * { margin: 0; padding: 0; box-sizing: border-box; }
  
  body {
    font-family: 'Inter', sans-serif;
    background: var(--primary);
    color: #e0e0e0;
    min-height: 100vh;
    min-height: 100dvh;
    overflow-x: hidden;
  }
  
  /* Starfield background */
  .stars {
    position: fixed;
    top: 0; left: 0;
    width: 100%; height: 100%;
    pointer-events: none;
    z-index: 0;
  }
  .star {
    position: absolute;
    width: 2px; height: 2px;
    background: white;
    border-radius: 50%;
    animation: twinkle var(--dur) ease-in-out infinite;
  }
  @keyframes twinkle {
    0%, 100% { opacity: 0.2; }
    50% { opacity: 1; }
  }
  
  .container {
    position: relative;
    z-index: 1;
    max-width: 480px;
    margin: 0 auto;
    padding: 20px 16px;
    min-height: 100vh;
    min-height: 100dvh;
  }
  
  /* Screens */
  .screen { display: none; }
  .screen.active { display: flex; flex-direction: column; align-items: center; }
  
  /* ========== INTRO SCREEN ========== */
  .oracle-eye {
    width: 120px; height: 120px;
    margin: 60px 0 30px;
    position: relative;
    animation: float 3s ease-in-out infinite;
  }
  @keyframes float {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-10px); }
  }
  .oracle-eye svg { width: 100%; height: 100%; }
  
  h1 {
    font-family: 'Cinzel Decorative', serif;
    font-size: 28px;
    text-align: center;
    background: linear-gradient(135deg, var(--gold), #fff8dc, var(--gold));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    margin-bottom: 12px;
    line-height: 1.3;
  }
  
  .subtitle {
    font-family: 'Cinzel', serif;
    font-size: 14px;
    color: var(--silver);
    text-align: center;
    letter-spacing: 3px;
    text-transform: uppercase;
    margin-bottom: 40px;
  }
  
  .cta-btn {
    font-family: 'Cinzel', serif;
    font-size: 16px;
    font-weight: 700;
    letter-spacing: 2px;
    text-transform: uppercase;
    padding: 16px 40px;
    border: 2px solid var(--gold);
    background: transparent;
    color: var(--gold);
    border-radius: 50px;
    cursor: pointer;
    transition: all 0.3s;
    position: relative;
    overflow: hidden;
  }
  .cta-btn:hover, .cta-btn:active {
    background: var(--gold);
    color: var(--primary);
    box-shadow: 0 0 30px var(--glow);
  }
  .cta-btn::before {
    content: '';
    position: absolute;
    top: -2px; left: -2px; right: -2px; bottom: -2px;
    background: linear-gradient(45deg, var(--gold), transparent, var(--gold));
    border-radius: 50px;
    z-index: -1;
    animation: borderGlow 3s linear infinite;
  }
  @keyframes borderGlow {
    0% { opacity: 0.5; }
    50% { opacity: 1; }
    100% { opacity: 0.5; }
  }
  
  /* ========== TEAM SELECT ========== */
  .team-search {
    width: 100%;
    padding: 14px 20px;
    border: 1px solid rgba(255,215,0,0.3);
    border-radius: 12px;
    background: rgba(255,255,255,0.05);
    color: white;
    font-size: 16px;
    margin-bottom: 16px;
    outline: none;
    font-family: 'Inter', sans-serif;
  }
  .team-search::placeholder { color: rgba(255,255,255,0.3); }
  .team-search:focus { border-color: var(--gold); box-shadow: 0 0 15px var(--glow); }
  
  .team-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 10px;
    width: 100%;
    max-height: 60vh;
    overflow-y: auto;
    padding: 4px;
    scrollbar-width: thin;
    scrollbar-color: rgba(255,215,0,0.3) transparent;
  }
  
  .team-card {
    padding: 14px 10px;
    border-radius: 12px;
    border: 1px solid rgba(255,255,255,0.1);
    background: rgba(255,255,255,0.03);
    cursor: pointer;
    transition: all 0.3s;
    text-align: center;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 6px;
  }
  .team-card:hover, .team-card:active {
    transform: scale(1.03);
    border-color: var(--team-primary);
    box-shadow: 0 0 20px rgba(var(--tr), var(--tg), var(--tb), 0.3);
  }
  .team-card .team-dot {
    width: 24px; height: 24px;
    border-radius: 50%;
    border: 2px solid rgba(255,255,255,0.2);
  }
  .team-card .team-name {
    font-family: 'Cinzel', serif;
    font-size: 12px;
    font-weight: 700;
    color: white;
  }
  .team-card .team-city {
    font-size: 10px;
    color: rgba(255,255,255,0.5);
  }
  
  .section-title {
    font-family: 'Cinzel Decorative', serif;
    font-size: 20px;
    color: var(--gold);
    text-align: center;
    margin: 30px 0 20px;
  }
  
  /* ========== READING SCREEN ========== */
  .reading-phase {
    width: 100%;
    text-align: center;
    padding: 20px 0;
  }
  
  .crystal-ball {
    width: 150px; height: 150px;
    margin: 30px auto;
    border-radius: 50%;
    background: radial-gradient(circle at 35% 35%, rgba(255,255,255,0.2), transparent 60%),
                radial-gradient(circle, var(--team-primary), var(--team-secondary));
    box-shadow: 0 0 60px rgba(var(--tr), var(--tg), var(--tb), 0.4),
                inset 0 0 30px rgba(0,0,0,0.3);
    animation: pulse 2s ease-in-out infinite;
    position: relative;
  }
  @keyframes pulse {
    0%, 100% { box-shadow: 0 0 40px rgba(var(--tr), var(--tg), var(--tb), 0.3); }
    50% { box-shadow: 0 0 80px rgba(var(--tr), var(--tg), var(--tb), 0.6); }
  }
  .crystal-ball .emoji {
    font-size: 60px;
    position: absolute;
    top: 50%; left: 50%;
    transform: translate(-50%, -50%);
    animation: spinSlow 4s linear infinite;
  }
  @keyframes spinSlow {
    0% { transform: translate(-50%, -50%) rotate(0deg); }
    100% { transform: translate(-50%, -50%) rotate(360deg); }
  }
  
  .oracle-text {
    font-family: 'Cinzel', serif;
    font-size: 16px;
    color: var(--silver);
    margin-top: 20px;
    min-height: 60px;
    line-height: 1.6;
    transition: opacity 0.5s;
  }
  
  .progress-bar {
    width: 80%;
    height: 3px;
    background: rgba(255,255,255,0.1);
    border-radius: 3px;
    margin: 30px auto;
    overflow: hidden;
  }
  .progress-bar .fill {
    height: 100%;
    background: linear-gradient(90deg, var(--team-primary), var(--gold));
    border-radius: 3px;
    transition: width 0.5s ease;
  }
  
  /* ========== CARDS SCREEN ========== */
  .cards-area {
    display: flex;
    gap: 12px;
    justify-content: center;
    margin: 20px 0;
    perspective: 1000px;
    width: 100%;
  }
  
  .tarot-card {
    width: 110px;
    height: 170px;
    position: relative;
    cursor: pointer;
    transform-style: preserve-3d;
    transition: transform 0.8s;
  }
  .tarot-card.flipped { transform: rotateY(180deg); }
  .tarot-card.revealed { cursor: default; }
  
  .card-face {
    position: absolute;
    width: 100%; height: 100%;
    backface-visibility: hidden;
    border-radius: 12px;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: 10px;
  }
  
  .card-back {
    background: linear-gradient(135deg, #1a0a2e, #2d1b69);
    border: 2px solid var(--gold);
    box-shadow: 0 0 15px var(--glow);
  }
  .card-back .pattern {
    font-size: 40px;
    opacity: 0.8;
  }
  .card-back .tap-hint {
    font-family: 'Cinzel', serif;
    font-size: 9px;
    color: var(--gold);
    opacity: 0.6;
    margin-top: 8px;
    letter-spacing: 1px;
  }
  
  .card-front {
    background: linear-gradient(160deg, #0f0520, #1a0a2e, #2d1b69);
    border: 2px solid var(--gold);
    transform: rotateY(180deg);
    text-align: center;
  }
  .card-front .card-emoji {
    font-size: 36px;
    margin-bottom: 6px;
  }
  .card-front .card-title {
    font-family: 'Cinzel Decorative', serif;
    font-size: 10px;
    color: var(--gold);
    line-height: 1.3;
  }
  .card-front .card-position {
    font-size: 8px;
    color: var(--silver);
    margin-top: 4px;
    text-transform: uppercase;
    letter-spacing: 1px;
  }
  .card-reversed .card-front {
    border-color: var(--accent);
  }
  .card-reversed .card-emoji {
    transform: rotate(180deg);
  }
  
  .card-reading {
    background: rgba(255,255,255,0.03);
    border: 1px solid rgba(255,215,0,0.15);
    border-radius: 16px;
    padding: 20px;
    margin: 10px 0;
    width: 100%;
    opacity: 0;
    transform: translateY(20px);
    transition: all 0.6s;
  }
  .card-reading.visible {
    opacity: 1;
    transform: translateY(0);
  }
  .card-reading h3 {
    font-family: 'Cinzel Decorative', serif;
    font-size: 14px;
    color: var(--gold);
    margin-bottom: 4px;
  }
  .card-reading .card-type {
    font-size: 10px;
    color: var(--accent);
    text-transform: uppercase;
    letter-spacing: 2px;
    margin-bottom: 10px;
  }
  .card-reading p {
    font-size: 14px;
    line-height: 1.7;
    color: #ccc;
  }
  
  /* ========== PROPHECY SCREEN ========== */
  .prophecy-container {
    width: 100%;
    padding: 20px 0;
  }
  
  .aura-badge {
    display: inline-flex;
    align-items: center;
    gap: 8px;
    padding: 10px 24px;
    border-radius: 50px;
    border: 1px solid var(--team-primary);
    background: rgba(var(--tr), var(--tg), var(--tb), 0.15);
    margin: 10px 0 24px;
  }
  .aura-badge .aura-emoji { font-size: 20px; }
  .aura-badge .aura-name {
    font-family: 'Cinzel', serif;
    font-size: 13px;
    color: var(--gold);
    font-weight: 700;
  }
  
  .prophecy-text {
    font-family: 'Cinzel', serif;
    font-size: 16px;
    line-height: 1.8;
    color: #ddd;
    text-align: center;
    padding: 20px;
    border-left: 2px solid var(--gold);
    border-right: 2px solid var(--gold);
    margin: 20px 0;
    font-style: italic;
  }
  
  .spirit-animal {
    display: flex;
    align-items: center;
    gap: 16px;
    padding: 20px;
    background: rgba(255,255,255,0.03);
    border-radius: 16px;
    border: 1px solid rgba(255,215,0,0.1);
    margin: 20px 0;
    width: 100%;
  }
  .spirit-animal .animal-emoji { font-size: 48px; }
  .spirit-animal .animal-info { flex: 1; }
  .spirit-animal .animal-label {
    font-size: 10px;
    color: var(--gold);
    text-transform: uppercase;
    letter-spacing: 2px;
  }
  .spirit-animal .animal-name {
    font-family: 'Cinzel Decorative', serif;
    font-size: 16px;
    color: white;
    margin: 4px 0;
  }
  .spirit-animal .animal-meaning {
    font-size: 12px;
    color: #aaa;
    line-height: 1.4;
  }
  
  .lucky-section {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 10px;
    width: 100%;
    margin: 16px 0;
  }
  .lucky-item {
    padding: 14px;
    background: rgba(255,255,255,0.03);
    border-radius: 12px;
    border: 1px solid rgba(255,255,255,0.08);
    text-align: center;
  }
  .lucky-item .lucky-label {
    font-size: 9px;
    color: var(--gold);
    text-transform: uppercase;
    letter-spacing: 2px;
    margin-bottom: 6px;
  }
  .lucky-item .lucky-value {
    font-family: 'Cinzel', serif;
    font-size: 14px;
    color: white;
  }
  
  .share-btn {
    font-family: 'Cinzel', serif;
    font-size: 14px;
    font-weight: 700;
    letter-spacing: 1px;
    padding: 14px 32px;
    border: 2px solid var(--team-primary);
    background: rgba(var(--tr), var(--tg), var(--tb), 0.2);
    color: white;
    border-radius: 50px;
    cursor: pointer;
    transition: all 0.3s;
    margin: 10px 0;
  }
  .share-btn:hover, .share-btn:active {
    background: rgba(var(--tr), var(--tg), var(--tb), 0.5);
    box-shadow: 0 0 20px rgba(var(--tr), var(--tg), var(--tb), 0.3);
  }
  
  .restart-btn {
    font-family: 'Inter', sans-serif;
    font-size: 13px;
    color: var(--silver);
    background: none;
    border: none;
    cursor: pointer;
    padding: 10px;
    margin-top: 10px;
    text-decoration: underline;
    opacity: 0.6;
  }
  
  .fade-in {
    animation: fadeIn 0.8s ease forwards;
  }
  @keyframes fadeIn {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
  }
  
  .divider {
    width: 60px;
    height: 1px;
    background: linear-gradient(90deg, transparent, var(--gold), transparent);
    margin: 20px auto;
  }
  
  /* Scrollbar */
  ::-webkit-scrollbar { width: 4px; }
  ::-webkit-scrollbar-track { background: transparent; }
  ::-webkit-scrollbar-thumb { background: rgba(255,215,0,0.2); border-radius: 4px; }
  
  /* Haptic feedback simulation */
  @keyframes shake {
    0%, 100% { transform: translateX(0); }
    25% { transform: translateX(-2px); }
    75% { transform: translateX(2px); }
  }
  .shake { animation: shake 0.3s ease; }
</style>
</head>
<body>
  <!-- Games Hub Nav -->
  <style>
    body{padding-top:45px !important;}.dc-games-nav{position:fixed;top:0;left:0;right:0;z-index:9999;display:flex;align-items:center;gap:10px;padding:10px 16px;background:rgba(10,10,20,0.92);backdrop-filter:blur(12px);border-bottom:1px solid rgba(255,255,255,0.07);font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",system-ui,sans-serif;}
    .dc-games-nav a{display:inline-flex;align-items:center;gap:6px;padding:5px 12px;background:rgba(255,255,255,0.07);border:1px solid rgba(255,255,255,0.1);border-radius:50px;color:rgba(255,255,255,0.7);text-decoration:none;font-size:0.78rem;font-weight:500;transition:all 0.2s;white-space:nowrap;}
    .dc-games-nav a:hover{background:rgba(255,255,255,0.12);color:#fff;}
    .dc-games-nav-title{font-size:0.8rem;font-weight:700;color:rgba(255,255,255,0.5);letter-spacing:0.5px;}
  </style>
  <div class="dc-games-nav">
    <a href="/"><img src="/assets/dc-icon.png" style="width:16px;height:16px;object-fit:contain;vertical-align:middle;margin-right:4px;" alt="">‚Üê Games</a>
    <span class="dc-games-nav-title" id="dc-nav-game-name"></span>
  </div>

<div class="stars" id="stars"></div>

<div class="container">
  
  <!-- ===== INTRO SCREEN ===== -->
  <div class="screen active" id="screen-intro">
    <div class="oracle-eye">
      <svg viewBox="0 0 120 120">
        <defs>
          <radialGradient id="eyeGlow">
            <stop offset="0%" stop-color="#ffd700" stop-opacity="0.6"/>
            <stop offset="100%" stop-color="#ffd700" stop-opacity="0"/>
          </radialGradient>
        </defs>
        <circle cx="60" cy="60" r="55" fill="none" stroke="#ffd700" stroke-width="1" opacity="0.3"/>
        <circle cx="60" cy="60" r="45" fill="none" stroke="#ffd700" stroke-width="0.5" opacity="0.2"/>
        <text x="60" y="70" text-anchor="middle" font-size="55">üèà</text>
        <circle cx="60" cy="60" r="58" fill="url(#eyeGlow)"/>
      </svg>
    </div>
    <h1>The Gridiron Oracle</h1>
    <p class="subtitle">Sees All ¬∑ Knows All ¬∑ Calls All</p>
    <div class="divider"></div>
    <p style="text-align:center; font-size:14px; color:#888; margin-bottom:30px; line-height:1.6; padding: 0 10px;">
      The ancient Oracle of the Gridiron has been reading the fates of franchises since the leather helmet era. 
      Present your allegiance and receive your reading.
    </p>
    <button class="cta-btn" onclick="showScreen('screen-team')">Consult the Oracle</button>
  </div>
  
  <!-- ===== TEAM SELECT ===== -->
  <div class="screen" id="screen-team">
    <p class="section-title">Declare Your Allegiance</p>
    <input type="text" class="team-search" id="teamSearch" placeholder="Search your team..." oninput="filterTeams()">
    <div class="team-grid" id="teamGrid"></div>
  </div>
  
  <!-- ===== READING SCREEN ===== -->
  <div class="screen" id="screen-reading">
    <div class="reading-phase" id="readingPhase">
      <p class="section-title" id="readingTitle">The Oracle Stirs...</p>
      <div class="crystal-ball" id="crystalBall">
        <span class="emoji">üèà</span>
      </div>
      <p class="oracle-text" id="oracleText">Channeling the spirits of the gridiron...</p>
      <div class="progress-bar"><div class="fill" id="progressFill" style="width:0%"></div></div>
    </div>
  </div>
  
  <!-- ===== CARDS SCREEN ===== -->
  <div class="screen" id="screen-cards">
    <p class="section-title">Your Three-Card Spread</p>
    <p style="font-size:12px; color:#888; text-align:center; margin-bottom:16px;">Tap each card to reveal your fate</p>
    <div class="cards-area" id="cardsArea"></div>
    <div id="cardReadings"></div>
    <button class="cta-btn" id="revealProphecyBtn" style="display:none; margin-top:20px;" onclick="showProphecy()">
      Receive Your Prophecy
    </button>
  </div>
  
  <!-- ===== PROPHECY SCREEN ===== -->
  <div class="screen" id="screen-prophecy">
    <p class="section-title">The Oracle Speaks</p>
    <div class="prophecy-container" id="prophecyContainer"></div>
  </div>

</div>

<script>
// ========== TEAM DATA ==========
const TEAMS = [
  { id: 'ARI', city: 'Arizona', name: 'Cardinals', colors: ['#97233F','#000000'], rgb: [151,35,63], sb: 0, est: 1898, motto: 'oldest franchise in football', vibe: 'ancient resilience', fact: 'The oldest continuously-run professional football team' },
  { id: 'ATL', city: 'Atlanta', name: 'Falcons', colors: ['#A71930','#000000'], rgb: [167,25,48], sb: 0, est: 1966, motto: 'rise up from ashes', vibe: 'defiant hope', fact: '28-3 became the greatest comeback story ‚Äî from the other side' },
  { id: 'BAL', city: 'Baltimore', name: 'Ravens', colors: ['#241773','#000000'], rgb: [36,23,115], sb: 2, est: 1996, motto: 'defensive dominance', vibe: 'calculated ferocity', fact: 'Named after Edgar Allan Poe\'s famous poem' },
  { id: 'BUF', city: 'Buffalo', name: 'Bills', colors: ['#00338D','#C60C30'], rgb: [0,51,141], sb: 0, est: 1960, motto: 'four straight appearances', vibe: 'unbreakable loyalty', fact: 'Four consecutive Super Bowl appearances ‚Äî a feat never repeated' },
  { id: 'CAR', city: 'Carolina', name: 'Panthers', colors: ['#0085CA','#101820'], rgb: [0,133,202], sb: 0, est: 1995, motto: 'keep pounding', vibe: 'relentless pressure', fact: 'Reached the NFC Championship in just their second season' },
  { id: 'CHI', city: 'Chicago', name: 'Bears', colors: ['#0B162A','#C83803'], rgb: [200,56,3], sb: 1, est: 1919, motto: 'monsters of the midway', vibe: 'blue-collar grit', fact: 'The Super Bowl Shuffle remains the greatest team anthem ever recorded' },
  { id: 'CIN', city: 'Cincinnati', name: 'Bengals', colors: ['#FB4F14','#000000'], rgb: [251,79,20], sb: 0, est: 1968, motto: 'who dey', vibe: 'smoldering intensity', fact: 'Those tiger stripes on the helmet are the most distinctive in the league' },
  { id: 'CLE', city: 'Cleveland', name: 'Browns', colors: ['#311D00','#FF3C00'], rgb: [255,60,0], sb: 0, est: 1946, motto: 'dawg pound faithful', vibe: 'eternal devotion', fact: 'The only NFL team named after a person ‚Äî coach Paul Brown' },
  { id: 'DAL', city: 'Dallas', name: 'Cowboys', colors: ['#003594','#869397'], rgb: [0,53,148], sb: 5, est: 1960, motto: 'America\'s team', vibe: 'polarizing grandeur', fact: 'Love them or hate them ‚Äî you have an opinion. That IS the brand' },
  { id: 'DEN', city: 'Denver', name: 'Broncos', colors: ['#FB4F14','#002244'], rgb: [251,79,20], sb: 3, est: 1960, motto: 'mile high magic', vibe: 'elevated power', fact: 'Playing at 5,280 feet gives a legitimate home field oxygen advantage' },
  { id: 'DET', city: 'Detroit', name: 'Lions', colors: ['#0076B6','#B0B7BC'], rgb: [0,118,182], sb: 0, est: 1930, motto: 'restore the roar', vibe: 'awakening strength', fact: 'The Thanksgiving Day tradition started in 1934 and never stopped' },
  { id: 'GB', city: 'Green Bay', name: 'Packers', colors: ['#203731','#FFB612'], rgb: [32,55,49], sb: 4, est: 1919, motto: 'titletown USA', vibe: 'frozen glory', fact: 'The only community-owned franchise in North American pro sports' },
  { id: 'HOU', city: 'Houston', name: 'Texans', colors: ['#03202F','#A71930'], rgb: [167,25,48], sb: 0, est: 2002, motto: 'building something', vibe: 'ambitious youth', fact: 'The youngest franchise with the oldest state pride' },
  { id: 'IND', city: 'Indianapolis', name: 'Colts', colors: ['#002C5F','#A2AAAD'], rgb: [0,44,95], sb: 2, est: 1953, motto: 'horseshoe heritage', vibe: 'quiet excellence', fact: 'From Unitas to Manning to Luck ‚Äî a QB legacy like no other' },
  { id: 'JAX', city: 'Jacksonville', name: 'Jaguars', colors: ['#006778','#9F792C'], rgb: [0,103,120], sb: 0, est: 1995, motto: 'DUUUVAL', vibe: 'underdog energy', fact: 'The real mystery is why anyone doubts a team with a jaguar mascot' },
  { id: 'KC', city: 'Kansas City', name: 'Chiefs', colors: ['#E31837','#FFB81C'], rgb: [227,24,55], sb: 4, est: 1960, motto: 'kingdom reigns', vibe: 'dynasty in motion', fact: 'Arrowhead Stadium holds the world record for loudest crowd roar' },
  { id: 'LV', city: 'Las Vegas', name: 'Raiders', colors: ['#000000','#A5ACAF'], rgb: [165,172,175], sb: 3, est: 1960, motto: 'commitment to excellence', vibe: 'outlaw mystique', fact: 'The silver and black is the most iconic color scheme in sports' },
  { id: 'LAC', city: 'Los Angeles', name: 'Chargers', colors: ['#0080C6','#FFC20E'], rgb: [0,128,198], sb: 0, est: 1960, motto: 'bolt up', vibe: 'electric potential', fact: 'Perpetually talented, perpetually tantalizing, perpetually almost' },
  { id: 'LAR', city: 'Los Angeles', name: 'Rams', colors: ['#003594','#FFA300'], rgb: [0,53,148], sb: 2, est: 1936, motto: 'whose house', vibe: 'Hollywood swagger', fact: 'The first team to put logos on their helmets ‚Äî trendsetters since \'48' },
  { id: 'MIA', city: 'Miami', name: 'Dolphins', colors: ['#008E97','#FC4C02'], rgb: [0,142,151], sb: 2, est: 1966, motto: 'perfection', vibe: 'unmatched legacy', fact: '1972: The only team to complete a perfect season including the Super Bowl' },
  { id: 'MIN', city: 'Minnesota', name: 'Vikings', colors: ['#4F2683','#FFC62F'], rgb: [79,38,131], sb: 0, est: 1961, motto: 'skol', vibe: 'warrior spirit', fact: 'Four Super Bowl appearances with zero wins ‚Äî the ultimate heartbreak' },
  { id: 'NE', city: 'New England', name: 'Patriots', colors: ['#002244','#C60C30'], rgb: [0,34,68], sb: 6, est: 1960, motto: 'do your job', vibe: 'ruthless efficiency', fact: 'The Brady-Belichick dynasty: 9 Super Bowls, 6 rings, endless debate' },
  { id: 'NO', city: 'New Orleans', name: 'Saints', colors: ['#D3BC8D','#101820'], rgb: [211,188,141], sb: 1, est: 1967, motto: 'who dat', vibe: 'spiritual resilience', fact: 'The post-Katrina 2006 return to the Superdome is football\'s greatest moment' },
  { id: 'NYG', city: 'New York', name: 'Giants', colors: ['#0B2265','#A71930'], rgb: [11,34,101], sb: 4, est: 1925, motto: 'big blue wrecking crew', vibe: 'blue-blood legacy', fact: '18-1. The helmet catch. David Tyree. Enough said.' },
  { id: 'NYJ', city: 'New York', name: 'Jets', colors: ['#125740','#000000'], rgb: [18,87,64], sb: 1, est: 1960, motto: 'broadway joe guaranteed it', vibe: 'defiant swagger', fact: 'Joe Namath\'s guarantee in Super Bowl III changed football forever' },
  { id: 'PHI', city: 'Philadelphia', name: 'Eagles', colors: ['#004C54','#A5ACAF'], rgb: [0,76,84], sb: 1, est: 1933, motto: 'fly eagles fly', vibe: 'ferocious passion', fact: 'The fans once booed Santa Claus. That\'s not a bug, it\'s a feature.' },
  { id: 'PIT', city: 'Pittsburgh', name: 'Steelers', colors: ['#FFB612','#101820'], rgb: [255,182,18], sb: 6, est: 1933, motto: 'steel curtain', vibe: 'forged in fire', fact: 'Six Lombardi trophies and the most iconic logo placement in sports (one side only)' },
  { id: 'SF', city: 'San Francisco', name: '49ers', colors: ['#AA0000','#B3995D'], rgb: [170,0,0], sb: 5, est: 1946, motto: 'quest for gold', vibe: 'golden dynasty', fact: 'Joe Montana never threw an interception in four Super Bowls' },
  { id: 'SEA', city: 'Seattle', name: 'Seahawks', colors: ['#002244','#69BE28'], rgb: [0,34,68], sb: 1, est: 1976, motto: '12th man', vibe: 'thunderous legion', fact: 'CenturyLink Stadium registered seismic activity during the Beast Quake' },
  { id: 'TB', city: 'Tampa Bay', name: 'Buccaneers', colors: ['#D50A0A','#34302B'], rgb: [213,10,10], sb: 2, est: 1976, motto: 'fire the cannons', vibe: 'pirate resurgence', fact: 'Tom Brady chose Tampa Bay and immediately won a Super Bowl. Of course.' },
  { id: 'TEN', city: 'Tennessee', name: 'Titans', colors: ['#0C2340','#4B92DB'], rgb: [75,146,219], sb: 0, est: 1960, motto: 'one yard short', vibe: 'agonizing proximity', fact: 'The Music City Miracle is either the greatest or worst play depending on your team' },
  { id: 'WAS', city: 'Washington', name: 'Commanders', colors: ['#5A1414','#FFB612'], rgb: [90,20,20], sb: 3, est: 1932, motto: 'hail to history', vibe: 'storied transformation', fact: 'Three Super Bowl wins with three different quarterbacks' },
];

// ========== TAROT CARDS ==========
const TAROT_CARDS = [
  { name: 'The Hail Mary', emoji: 'üôè', upright: 'Faith rewarded. The impossible becomes real. Your team\'s greatest moments come when logic says to quit.', reversed: 'Blind hope without preparation. Wishing won\'t make it so ‚Äî the football gods demand more than prayers.' },
  { name: 'The Pick Six', emoji: 'üîÑ', upright: 'A sudden reversal of fortune. What was your opponent\'s becomes yours. Momentum shifts in an instant.', reversed: 'The turnover goes the wrong way. Guard what you have ‚Äî complacency is the real interception.' },
  { name: 'The Fumble', emoji: 'üí®', upright: 'Release what you cannot control. Sometimes dropping the ball creates unexpected opportunity.', reversed: 'Carelessness with something precious. Hold tighter to what matters before it bounces away.' },
  { name: 'The Two-Minute Drill', emoji: '‚è±Ô∏è', upright: 'Urgency creates clarity. When time is short, your team finds its truest form. Pressure is a privilege.', reversed: 'Panic under pressure. Too many timeouts wasted, too many moments squandered. Breathe.' },
  { name: 'The Blitz', emoji: '‚ö°', upright: 'Bold aggression pays off. Send everything. Risk is the price of reward, and you\'re ready to pay.', reversed: 'Overcommitment leaves you exposed. Sometimes the blitz gets picked up and you\'re left in the open.' },
  { name: 'The Audible', emoji: 'üó£Ô∏è', upright: 'Read the defense. The original plan isn\'t working ‚Äî the courage to change course IS the play.', reversed: 'Analysis paralysis. You see every option and choose none. Trust your read and snap the ball.' },
  { name: 'The End Zone', emoji: 'üéâ', upright: 'Celebration! The journey is complete. Six points of pure, unfiltered triumph are yours to claim.', reversed: 'Premature celebration. Don\'t spike the ball before crossing the line. Finish what you started.' },
  { name: 'The Red Zone', emoji: 'üî¥', upright: 'You\'re close. The hardest yards are the last twenty. Your efficiency here defines your season.', reversed: 'So close yet settling. Field goals when touchdowns are needed. Demand more of yourself.' },
  { name: 'The Draft Pick', emoji: 'üìã', upright: 'Raw potential awaits. The future is unwritten and full of promise. Invest in what\'s coming.', reversed: 'A reach. Not every first-round pick pans out. Potential without development is just a press conference.' },
  { name: 'The Touchdown', emoji: 'üèà', upright: 'Pure success. Everything aligned ‚Äî the blocking, the route, the throw, the catch. This is your moment.', reversed: 'Under review. Even apparent success faces scrutiny. Was the process as clean as the result?' },
  { name: 'The Safety', emoji: 'üõ°Ô∏è', upright: 'The rarest score. You found value where no one was looking. Unconventional paths lead to unique victories.', reversed: 'Trapped in your own end zone. Retreat has become habit. Break free or get buried.' },
  { name: 'The Overtime', emoji: 'üåô', upright: 'Endurance is your weapon. When others are spent, you find another level. Legends are built in extra time.', reversed: 'Exhaustion without resolution. Some battles drain you with no victor. Know when to rest.' },
  { name: 'The Comeback', emoji: 'üî•', upright: 'Down but never out. The scoreboard is temporary; your spirit is permanent. The greatest stories start behind.', reversed: 'The deficit is real. Not every hole can be climbed out of. Accept, learn, reload for next week.' },
  { name: 'The Punt', emoji: 'ü¶µ', upright: 'Strategic retreat. Giving ground now to gain advantage later. Field position is a long game.', reversed: 'Surrendering too easily. You had a fourth-down conversion in you. Cowardice disguised as wisdom.' },
  { name: 'The Flag', emoji: 'üü°', upright: 'Justice arrives, if imperfectly. The call goes your way this time. Accept the gift gracefully.', reversed: 'Controversy. The refs are human and the replay is inconclusive. Let go of what you cannot challenge.' },
  { name: 'The Snap', emoji: 'ü´¥', upright: 'New beginnings. Every play starts here ‚Äî a moment of potential. What happens next is up to you.', reversed: 'False start. Your timing is off. Reset, take a breath, and wait for the real count.' },
  { name: 'The Sack', emoji: 'üí•', upright: 'You broke through. Your pressure disrupted their plans. Sometimes defense wins more than trophies.', reversed: 'You\'re the one on the ground. Protection broke down and now you\'re eating turf. Get up.' },
  { name: 'The Field Goal', emoji: 'ü•æ', upright: 'Points on the board. Not flashy, but consistent. The kicker is unsung until the game is on the line.', reversed: 'Wide right. Wide left. The margin between hero and goat is 18 feet, 6 inches.' },
  { name: 'The Rookie', emoji: '‚≠ê', upright: 'Fresh eyes see what veterans miss. Naivety is a superpower when paired with talent and hunger.', reversed: 'Growing pains. The game moves faster than you expected. Humility now buys greatness later.' },
  { name: 'The Lombardi', emoji: 'üèÜ', upright: 'The ultimate prize. Everything you\'ve worked for, suffered for, waited for. This is what it\'s all for.', reversed: 'Close only counts in horseshoes. Second place is a beautiful journey that ends one game too soon.' },
];

const POSITIONS = ['Past', 'Present', 'Future'];

// ========== FAN AURAS ==========
const AURAS = [
  { name: 'The Eternal Flame', emoji: 'üî•', desc: 'Your devotion burns hotter than a thousand stadium lights. You\'ve never wavered, even in the darkest seasons.' },
  { name: 'The Frozen Faithful', emoji: '‚ùÑÔ∏è', desc: 'Forged in cold weather and colder takes. Your loyalty was tested by ice and time, and you emerged unbroken.' },
  { name: 'The Lightning Rod', emoji: '‚ö°', desc: 'You attract attention, controversy, and championships in equal measure. Your energy is electric and unavoidable.' },
  { name: 'The Stone Guardian', emoji: 'üóø', desc: 'Unmovable. Unshakeable. While others chase bandwagons, you stand where you\'ve always stood. Respect.' },
  { name: 'The Phoenix Rising', emoji: 'ü¶Ö', desc: 'From ashes and rebuilding years, you keep rising. Every setback fuels the next flight upward.' },
  { name: 'The Golden Spirit', emoji: '‚ú®', desc: 'You carry the memory of glory days and the faith that more await. Your optimism is contagious.' },
  { name: 'The Storm Caller', emoji: 'üåä', desc: 'Your passion creates weather systems in stadiums. When you cheer, the earth literally shakes.' },
  { name: 'The Midnight Vigil', emoji: 'üåô', desc: 'You\'ve stayed up past midnight watching painful losses. That devotion isn\'t insanity ‚Äî it\'s love.' },
];

const SPIRIT_ANIMALS = [
  { name: 'The War Eagle', emoji: 'ü¶Ö', meaning: 'Vision from above. You see the whole field while others stare at the line of scrimmage.' },
  { name: 'The Ironback Bear', emoji: 'üêª', meaning: 'Unyielding force. You lower your shoulder and push through whatever\'s in front of you.' },
  { name: 'The Ghost Fox', emoji: 'ü¶ä', meaning: 'Cunning and elusive. Your instincts read the play before the ball is snapped.' },
  { name: 'The Thunder Wolf', emoji: 'üê∫', meaning: 'Pack mentality. Your power multiplies when surrounded by fellow believers.' },
  { name: 'The Steel Hawk', emoji: 'ü¶Ö', meaning: 'Precision and timing. You strike at the exact moment of maximum impact.' },
  { name: 'The Deep Stag', emoji: 'ü¶å', meaning: 'Grace under pressure. You move through chaos with an elegance that defies the violence around you.' },
  { name: 'The Siege Lion', emoji: 'ü¶Å', meaning: 'Patient dominance. You wait for the perfect moment, then claim everything in sight.' },
  { name: 'The Riptide Shark', emoji: 'ü¶à', meaning: 'Relentless pursuit. Once you smell opportunity, nothing can stop the approach.' },
];

// ========== STATE ==========
let selectedTeam = null;
let drawnCards = [];
let revealedCount = 0;

// ========== STARS ==========
function createStars() {
  const container = document.getElementById('stars');
  for (let i = 0; i < 80; i++) {
    const star = document.createElement('div');
    star.className = 'star';
    star.style.left = Math.random() * 100 + '%';
    star.style.top = Math.random() * 100 + '%';
    star.style.setProperty('--dur', (2 + Math.random() * 4) + 's');
    star.style.animationDelay = Math.random() * 3 + 's';
    star.style.width = star.style.height = (1 + Math.random() * 2) + 'px';
    container.appendChild(star);
  }
}

// ========== NAVIGATION ==========
function showScreen(id) {
  document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
  document.getElementById(id).classList.add('active');
  window.scrollTo(0, 0);
}

// ========== TEAM GRID ==========
function buildTeamGrid(filter = '') {
  const grid = document.getElementById('teamGrid');
  grid.innerHTML = '';
  const f = filter.toLowerCase();
  TEAMS.filter(t => !f || t.name.toLowerCase().includes(f) || t.city.toLowerCase().includes(f) || t.id.toLowerCase().includes(f))
    .sort((a, b) => a.name.localeCompare(b.name))
    .forEach(t => {
      const card = document.createElement('div');
      card.className = 'team-card';
      card.style.setProperty('--tr', t.rgb[0]);
      card.style.setProperty('--tg', t.rgb[1]);
      card.style.setProperty('--tb', t.rgb[2]);
      card.innerHTML = `
        <div class="team-dot" style="background: linear-gradient(135deg, ${t.colors[0]}, ${t.colors[1]})"></div>
        <span class="team-name">${t.name}</span>
        <span class="team-city">${t.city}</span>
      `;
      card.onclick = () => selectTeam(t);
      grid.appendChild(card);
    });
}
function filterTeams() { buildTeamGrid(document.getElementById('teamSearch').value); }

// ========== TEAM SELECTION ==========
function selectTeam(team) {
  selectedTeam = team;
  document.documentElement.style.setProperty('--team-primary', team.colors[0]);
  document.documentElement.style.setProperty('--team-secondary', team.colors[1]);
  document.documentElement.style.setProperty('--tr', team.rgb[0]);
  document.documentElement.style.setProperty('--tg', team.rgb[1]);
  document.documentElement.style.setProperty('--tb', team.rgb[2]);
  startReading();
}

// ========== READING ANIMATION ==========
function startReading() {
  showScreen('screen-reading');
  const texts = [
    `The Oracle senses a ${selectedTeam.name} faithful...`,
    `Reaching through ${new Date().getFullYear() - selectedTeam.est} years of franchise history...`,
    `The spirits of ${selectedTeam.city} stir...`,
    `${selectedTeam.fact}`,
    `Your fan energy is ${selectedTeam.vibe}...`,
    `The cards are ready.`,
  ];
  
  let i = 0;
  const el = document.getElementById('oracleText');
  const fill = document.getElementById('progressFill');
  
  function nextText() {
    if (i >= texts.length) {
      setTimeout(() => prepareCards(), 500);
      return;
    }
    el.style.opacity = 0;
    setTimeout(() => {
      el.textContent = texts[i];
      el.style.opacity = 1;
      fill.style.width = ((i + 1) / texts.length * 100) + '%';
      i++;
      setTimeout(nextText, 2200);
    }, 400);
  }
  
  setTimeout(nextText, 800);
}

// ========== CARD DRAWING ==========
function prepareCards() {
  // Draw 3 random unique cards
  const shuffled = [...TAROT_CARDS].sort(() => Math.random() - 0.5);
  drawnCards = shuffled.slice(0, 3).map((card, idx) => ({
    ...card,
    isReversed: Math.random() < 0.35,
    position: POSITIONS[idx],
  }));
  revealedCount = 0;
  
  showScreen('screen-cards');
  
  const area = document.getElementById('cardsArea');
  area.innerHTML = '';
  
  drawnCards.forEach((card, idx) => {
    const el = document.createElement('div');
    el.className = 'tarot-card' + (card.isReversed ? ' card-reversed' : '');
    el.id = 'card-' + idx;
    el.innerHTML = `
      <div class="card-face card-back">
        <span class="pattern">üèà</span>
        <span class="tap-hint">TAP TO REVEAL</span>
      </div>
      <div class="card-face card-front">
        <span class="card-position">${card.position}</span>
        <span class="card-emoji">${card.emoji}</span>
        <span class="card-title">${card.name}</span>
        ${card.isReversed ? '<span class="card-position" style="color:#e94560">Reversed</span>' : ''}
      </div>
    `;
    el.onclick = () => revealCard(idx);
    el.style.animationDelay = (idx * 0.2) + 's';
    area.appendChild(el);
  });
}

function revealCard(idx) {
  const el = document.getElementById('card-' + idx);
  if (el.classList.contains('revealed')) return;
  
  el.classList.add('flipped', 'revealed');
  revealedCount++;
  
  // Show reading
  const card = drawnCards[idx];
  const readings = document.getElementById('cardReadings');
  const reading = document.createElement('div');
  reading.className = 'card-reading';
  reading.innerHTML = `
    <h3>${card.emoji} ${card.name} ${card.isReversed ? '(Reversed)' : ''}</h3>
    <div class="card-type">${card.position} ¬∑ ${card.isReversed ? 'Shadow' : 'Light'}</div>
    <p>${card.isReversed ? card.reversed : card.upright}</p>
  `;
  readings.appendChild(reading);
  
  setTimeout(() => reading.classList.add('visible'), 100);
  
  if (revealedCount === 3) {
    setTimeout(() => {
      document.getElementById('revealProphecyBtn').style.display = 'inline-block';
      document.getElementById('revealProphecyBtn').classList.add('fade-in');
    }, 800);
  }
}

// ========== PROPHECY ==========
function showProphecy() {
  showScreen('screen-prophecy');
  
  // Determine aura, spirit animal, prophecy based on team + cards
  const seed = selectedTeam.id.charCodeAt(0) + selectedTeam.est + drawnCards.reduce((a, c) => a + c.name.length, 0);
  const aura = AURAS[seed % AURAS.length];
  const spirit = SPIRIT_ANIMALS[(seed + 3) % SPIRIT_ANIMALS.length];
  
  // Build prophecy based on cards and team
  const hasLombardi = drawnCards.some(c => c.name === 'The Lombardi');
  const reversedCount = drawnCards.filter(c => c.isReversed).length;
  const futureCard = drawnCards[2];
  
  let prophecy = '';
  if (selectedTeam.sb === 0) {
    prophecy = `The Oracle sees the ${selectedTeam.name} faithful ‚Äî tested by decades without the ultimate prize, yet burning brighter for it. `;
    if (hasLombardi && !drawnCards.find(c => c.name === 'The Lombardi').isReversed) {
      prophecy += `But the Lombardi card shines in your spread! The Oracle whispers: the drought ends not with a trickle, but a flood. Your patience is not weakness ‚Äî it is the foundation upon which dynasties are built.`;
    } else {
      prophecy += `The journey continues, but ${futureCard.isReversed ? 'shadows gather on the path ahead. Steel yourselves.' : 'the future card burns with promise. The football gods have not forgotten you.'}`;
    }
  } else if (selectedTeam.sb >= 4) {
    prophecy = `The Oracle beholds a dynasty\'s faithful ‚Äî ${selectedTeam.sb} Lombardi trophies shine in your constellation. `;
    prophecy += reversedCount >= 2 
      ? `But even empires face trials. The reversed cards warn against complacency. Greatness demands constant hunger.`
      : `And the cards suggest the constellation isn\'t complete. More glory awaits those who remember that legacy is a living thing.`;
  } else {
    prophecy = `The Oracle reads ${selectedTeam.sb} ring${selectedTeam.sb > 1 ? 's' : ''} of power in the ${selectedTeam.name} constellation. `;
    prophecy += `${futureCard.isReversed ? 'The future card trembles with uncertainty, but remember: your franchise has tasted glory before and knows the way back.' : 'The future card glows steady and true. The path to more is illuminated by what came before.'}`;
  }
  
  prophecy += ` Remember, ${selectedTeam.city} ‚Äî ${selectedTeam.vibe} is not just a description. It is your weapon.`;
  
  // Lucky numbers
  const luckyNum = ((seed * 7) % 89) + 10;
  const luckyQuarter = ((seed % 4) + 1);
  const luckyDays = ['Sunday', 'Monday', 'Thursday', 'Saturday'];
  const luckyDay = luckyDays[seed % luckyDays.length];
  const luckyFormation = ['Shotgun', 'I-Formation', 'Pistol', 'Wildcat', 'Trips Right', 'Empty Set', 'Goal Line'][seed % 7];
  
  const container = document.getElementById('prophecyContainer');
  container.innerHTML = `
    <div class="fade-in">
      <div style="text-align:center">
        <div class="aura-badge">
          <span class="aura-emoji">${aura.emoji}</span>
          <span class="aura-name">${aura.name}</span>
        </div>
        <p style="font-size:13px; color:#999; line-height:1.6; margin-bottom:20px;">${aura.desc}</p>
      </div>
      
      <div class="divider"></div>
      
      <div class="prophecy-text">"${prophecy}"</div>
      
      <div class="divider"></div>
      
      <div class="spirit-animal">
        <span class="animal-emoji">${spirit.emoji}</span>
        <div class="animal-info">
          <div class="animal-label">Your Gridiron Spirit</div>
          <div class="animal-name">${spirit.name}</div>
          <div class="animal-meaning">${spirit.meaning}</div>
        </div>
      </div>
      
      <div class="lucky-section">
        <div class="lucky-item">
          <div class="lucky-label">Lucky Number</div>
          <div class="lucky-value">${luckyNum}</div>
        </div>
        <div class="lucky-item">
          <div class="lucky-label">Power Quarter</div>
          <div class="lucky-value">Q${luckyQuarter}</div>
        </div>
        <div class="lucky-item">
          <div class="lucky-label">Lucky Day</div>
          <div class="lucky-value">${luckyDay}</div>
        </div>
        <div class="lucky-item">
          <div class="lucky-label">Spirit Formation</div>
          <div class="lucky-value">${luckyFormation}</div>
        </div>
      </div>
      
      <div style="text-align:center; margin-top:24px;">
        <button class="share-btn" onclick="shareReading()">üì± Share Your Reading</button>
        <br>
        <button class="restart-btn" onclick="restart()">Consult the Oracle Again</button>
      </div>
    </div>
  `;
}

// ========== SHARE ==========
function shareReading() {
  const aura = AURAS[(selectedTeam.id.charCodeAt(0) + selectedTeam.est + drawnCards.reduce((a, c) => a + c.name.length, 0)) % AURAS.length];
  const text = `üèàüîÆ My Gridiron Oracle Reading:\n\nTeam: ${selectedTeam.city} ${selectedTeam.name}\nFan Aura: ${aura.emoji} ${aura.name}\nCards: ${drawnCards.map(c => `${c.emoji} ${c.name}${c.isReversed ? ' ‚Ü©Ô∏è' : ''}`).join(' ¬∑ ')}\n\nGet YOUR reading: `;
  
  if (navigator.share) {
    navigator.share({ title: 'My Gridiron Oracle Reading', text });
  } else {
    navigator.clipboard.writeText(text).then(() => {
      const btn = document.querySelector('.share-btn');
      btn.textContent = '‚úÖ Copied to Clipboard!';
      setTimeout(() => btn.textContent = 'üì± Share Your Reading', 2000);
    });
  }
}

// ========== RESTART ==========
function restart() {
  selectedTeam = null;
  drawnCards = [];
  revealedCount = 0;
  document.getElementById('cardReadings').innerHTML = '';
  document.getElementById('revealProphecyBtn').style.display = 'none';
  document.documentElement.style.setProperty('--team-primary', '#e94560');
  document.documentElement.style.setProperty('--team-secondary', '#1a0a2e');
  showScreen('screen-intro');
}

// ========== INIT ==========
createStars();
buildTeamGrid();
</script>
</body>
</html>
